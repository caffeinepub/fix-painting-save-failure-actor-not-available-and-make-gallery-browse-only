{
  "kind": "build_request",
  "title": "Fix painting save failure (Actor not available) and make Gallery browse-only",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Prevent the \"Failed to save painting: Actor not available\" error by ensuring the backend actor is initialized before the user can attempt to save a painting, and by providing a clear user-facing error if actor initialization fails.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Fail to save\n\nActor not available"
        ]
      },
      "acceptanceCriteria": [
        "On the Draw page, the \"Complete\" action cannot be triggered while the backend actor is still loading/initializing.",
        "If actor initialization fails (e.g., agent/identity/config/access-control init error), the UI shows an English error message indicating saving is unavailable, and the save action remains disabled until recovery (e.g., refresh/relogin).",
        "After actor initialization succeeds, saving a painting works without ever throwing the client-side error string \"Actor not available\"."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update the Gallery experience so it is read-only browsing: remove any calls-to-action or navigation from the Gallery page that encourage creating a new painting when the gallery is empty, and ensure the Gallery entry point only supports viewing existing paintings.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "The vie gallery tile should only alow to see existing paintings"
        ]
      },
      "acceptanceCriteria": [
        "When the gallery list is empty, the Gallery page displays an English empty-state message and does not show any button/link that navigates to the Draw page (e.g., no \"Create the First One\" button).",
        "The dashboard \"Gallery\" tile continues to navigate to the Gallery page for browsing, but does not provide any creation/editing affordance from within the Gallery empty state."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/components/ui (shadcn components are read-only).",
    "Do not edit immutable frontend hook files listed in SYSTEM_CONTEXT. If additional behavior is needed, implement it via composition/usage changes in editable files."
  ],
  "nonGoals": [
    "Adding new authentication methods beyond Internet Identity.",
    "Changing backend data schemas or introducing new backend services.",
    "Adding editing capabilities for existing paintings from the Gallery."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}